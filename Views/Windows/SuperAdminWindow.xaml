<Window x:Class="TDEduEnglish.Views.Windows.SuperAdminWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TDEduEnglish.Views.Windows"
        mc:Ignorable="d"
        Title="SuperAdminWindow" Height="900" Width="1400">
    <Window.Resources>
        <!-- Modern Card Style -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" BlurRadius="15" Opacity="0.08"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Management Button Style -->
        <Style x:Key="ManagementButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="24,20"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="16"
                                Padding="{TemplateBinding Padding}">
                            <Border.Effect>
                                <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" BlurRadius="15" Opacity="0.08"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFF8FAFC"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FFF1F5F9"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Primary Button Style -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF6366F1"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
              
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF5855E8"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF4F46E5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Icon Button Style -->
        <Style x:Key="IconButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FF6B7280"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="44"/>
            <Setter Property="Height" Value="44"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="12"
                                Padding="8">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFF3F4F6"/>
                                <Setter Property="Foreground" Value="#FF6366F1"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Profile Button Style -->
        <Style x:Key="ProfileButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF6366F1"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="20">
                            <Border.Effect>
                                <DropShadowEffect Color="#FF6366F1" Direction="270" ShadowDepth="2" BlurRadius="8" Opacity="0.3"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF5855E8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Data Grid Style -->
        <Style x:Key="ModernDataGridStyle" TargetType="DataGrid">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="RowHeight" Value="50"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="IsReadOnly" Value="True"/>
        </Style>

        <!-- Data Grid Header Style -->
        <Style x:Key="DataGridHeaderStyle" TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#FFF8FAFC"/>
            <Setter Property="Foreground" Value="#FF6B7280"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Header -->
        <Border Height="70" VerticalAlignment="Top" Panel.ZIndex="10">
            <Border.Background>
                <SolidColorBrush Color="White" Opacity="0.98"/>
            </Border.Background>
            <Border.Effect>
                <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="1" BlurRadius="15" Opacity="0.08"/>
            </Border.Effect>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Logo and Title -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" 
                           VerticalAlignment="Center" Margin="32,0,0,0">
                    <Border Background="#FF6366F1" CornerRadius="12" Width="40" Height="40" Margin="0,0,16,0">
                        <Border.Effect>
                            <DropShadowEffect Color="#FF6366F1" Direction="270" ShadowDepth="2" BlurRadius="8" Opacity="0.3"/>
                        </Border.Effect>
                        <TextBlock Text="⚙️" FontSize="20" 
                                  HorizontalAlignment="Center" 
                                  VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Admin Dashboard" FontSize="22" FontWeight="Bold" 
                                  Foreground="#FF1F2937"/>
                        <TextBlock Text="TDEdu Management System" FontSize="11" 
                                  Foreground="#FF6B7280" Margin="0,-2,0,0"/>
                    </StackPanel>
                </StackPanel>

                <!-- Right Section - Notifications and Profile -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" 
                           VerticalAlignment="Center" Margin="0,0,32,0">

                    <!-- Notifications -->
                    <Grid Margin="0,0,16,0">
                        <Button Command="{Binding NotificationCommand}"
                               Style="{StaticResource IconButtonStyle}"
                               ToolTip="Thông báo">
                            <TextBlock Text="🔔" FontSize="18"/>
                        </Button>
                        <!-- Notification Badge -->
                        <Border Background="#FFEF4444" CornerRadius="8" 
                               Width="16" Height="16" 
                               HorizontalAlignment="Right" VerticalAlignment="Top" 
                               Margin="0,-4,-4,0">
                            <TextBlock Text="3" FontSize="10" FontWeight="Bold" 
                                      Foreground="White" HorizontalAlignment="Center" 
                                      VerticalAlignment="Center"/>
                        </Border>
                    </Grid>

                    <!-- Profile -->
                    <Button Command="{Binding ProfileCommand}"
                           Style="{StaticResource ProfileButtonStyle}"
                           ToolTip="Admin Profile" Margin="0,0,16,0">
                        <TextBlock Text="AD" FontSize="14" FontWeight="SemiBold"/>
                    </Button>

                    <!-- Logout Button -->
                    <Button Content="Log out" FontSize="14" 
                           Command="{Binding LogoutCommand}" 
                           Style="{StaticResource PrimaryButtonStyle}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content -->
        <ScrollViewer Margin="0,70,0,0" VerticalScrollBarVisibility="Auto">
            <Grid Margin="32,24,32,32">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Welcome Section -->
                <StackPanel Grid.Row="0" Margin="0,0,0,32">
                    <TextBlock Text="Welcome back, Admin!" 
                              FontSize="28" FontWeight="Bold" 
                              Foreground="#FF1F2937" Margin="0,0,0,8"/>
                    <TextBlock Text="Manage your English learning platform efficiently" 
                              FontSize="16" Foreground="#FF6B7280"/>
                </StackPanel>

                <!-- Statistics Cards -->
                <Grid Grid.Row="1" Margin="0,0,0,32">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Total Users -->
                    <Border Grid.Column="0" Style="{StaticResource CardStyle}" Margin="0,0,8,0">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                <TextBlock Text="👥" FontSize="24" Margin="0,0,12,0"/>
                                <TextBlock Text="Total Users" FontSize="14" 
                                          Foreground="#FF6B7280" VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="12,547" FontSize="24" FontWeight="Bold" 
                                      Foreground="#FF1F2937"/>
                            <TextBlock Text="+12% from last month" FontSize="12" 
                                      Foreground="#FF10B981" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Active Courses -->
                    <Border Grid.Column="1" Style="{StaticResource CardStyle}" Margin="8,0,8,0">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                <TextBlock Text="📚" FontSize="24" Margin="0,0,12,0"/>
                                <TextBlock Text="Active Courses" FontSize="14" 
                                          Foreground="#FF6B7280" VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="156" FontSize="24" FontWeight="Bold" 
                                      Foreground="#FF1F2937"/>
                            <TextBlock Text="+8 new this week" FontSize="12" 
                                      Foreground="#FF10B981" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Completion Rate -->
                    <Border Grid.Column="2" Style="{StaticResource CardStyle}" Margin="8,0,8,0">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                <TextBlock Text="📊" FontSize="24" Margin="0,0,12,0"/>
                                <TextBlock Text="Completion Rate" FontSize="14" 
                                          Foreground="#FF6B7280" VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="87.3%" FontSize="24" FontWeight="Bold" 
                                      Foreground="#FF1F2937"/>
                            <TextBlock Text="+2.1% improvement" FontSize="12" 
                                      Foreground="#FF10B981" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Revenue -->
                    <Border Grid.Column="3" Style="{StaticResource CardStyle}" Margin="8,0,0,0">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                <TextBlock Text="💰" FontSize="24" Margin="0,0,12,0"/>
                                <TextBlock Text="Monthly Revenue" FontSize="14" 
                                          Foreground="#FF6B7280" VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="$45,230" FontSize="24" FontWeight="Bold" 
                                      Foreground="#FF1F2937"/>
                            <TextBlock Text="+15% from last month" FontSize="12" 
                                      Foreground="#FF10B981" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Management Buttons -->
                <Grid Grid.Row="2" Margin="0,0,0,32">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Management Tools" 
                              FontSize="20" FontWeight="SemiBold" 
                              Foreground="#FF1F2937" Margin="0,0,0,16"/>

                    <!-- First Row - Core Learning Content -->
                    <Grid Grid.Row="1" Margin="0,0,0,16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Manage Users -->
                        <Button Grid.Column="0" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="0,0,8,0" Height="120"
                               Command="{Binding ManageUserCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="👥" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Manage Users" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                               
                            </StackPanel>
                        </Button>

                        <!-- Reading Lessons -->
                        <Button Grid.Column="1" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,8,0" Height="120"
                               Command="{Binding ManageReadingCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="📖" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Reading Lessons" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                                
                            </StackPanel>
                        </Button>

                        <!-- Listening Lessons -->
                        <Button Grid.Column="2" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,8,0" Height="120"
                               Command="{Binding ManageListeningCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="🎧" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Listening Lessons" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                               
                            </StackPanel>
                        </Button>

                        <!-- Speaking Lessons -->
                        <Button Grid.Column="3" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,8,0" Height="120"
                               Command="{Binding ManageSpeakingCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="🎤" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Speaking Lessons" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                               
                            </StackPanel>
                        </Button>

                        <!-- Writing Lessons -->
                        <Button Grid.Column="4" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,0,0" Height="120"
                               Command="{Binding ManageWritingCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="✍️" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Writing Lessons" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                                
                            </StackPanel>
                        </Button>
                    </Grid>

                    <!-- Second Row - Assessment & Additional Features -->
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Manage Quizzes -->
                        <Button Grid.Column="0" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="0,0,8,0" Height="120"
                               Command="{Binding ManageQuizzesCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="🎯" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Manage Quizzes" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                                
                            </StackPanel>
                        </Button>

                        <!-- Vocabulary Management -->
                        <Button Grid.Column="1" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,8,0" Height="120"
                               Command="{Binding ManageVocabularyCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="📝" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Vocabulary" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                                
                            </StackPanel>
                        </Button>

                        <!-- Grammar Management -->
                        <Button Grid.Column="2" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,8,0" Height="120"
                               Command="{Binding ManageGrammarCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="📋" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Grammar" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                                
                            </StackPanel>
                        </Button>

                        <!-- Progress Tracking -->
                        <Button Grid.Column="3" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,8,0" Height="120"
                               Command="{Binding ManageProgressCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="📊" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="Progress Tracking" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                              
                            </StackPanel>
                        </Button>

                        <!-- System Settings -->
                        <Button Grid.Column="4" Style="{StaticResource ManagementButtonStyle}" 
                               Margin="8,0,0,0" Height="120"
                               Command="{Binding ManageSettingsCommand}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="⚙️" FontSize="32" Margin="0,0,0,8" 
                                          HorizontalAlignment="Center"/>
                                <TextBlock Text="System Settings" FontSize="14" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" HorizontalAlignment="Center"/>
                                
                            </StackPanel>
                        </Button>
                    </Grid>
                </Grid>

                <!-- Recent Activity Table -->
                <Border Grid.Row="3" Style="{StaticResource CardStyle}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0" Orientation="Horizontal" 
                                   Margin="0,0,0,20">
                            <TextBlock Text="Recent Activity" 
                                      FontSize="18" FontWeight="SemiBold" 
                                      Foreground="#FF1F2937" 
                                      VerticalAlignment="Center"/>

                            <Button Content="View All" 
                                   Style="{StaticResource PrimaryButtonStyle}"
                                   FontSize="12" Height="32" Padding="12,6"
                                   HorizontalAlignment="Right" 
                                   Margin="20,0,0,0"/>
                        </StackPanel>

                        <DataGrid Grid.Row="1" Style="{StaticResource ModernDataGridStyle}"
                                 ItemsSource="{Binding RecentActivities}">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="User" Binding="{Binding UserName}" 
                                                   HeaderStyle="{StaticResource DataGridHeaderStyle}"
                                                   Width="200"/>
                                <DataGridTextColumn Header="Action" Binding="{Binding Action}" 
                                                   HeaderStyle="{StaticResource DataGridHeaderStyle}"
                                                   Width="300"/>
                                <DataGridTextColumn Header="Course/Lesson" Binding="{Binding Course}" 
                                                   HeaderStyle="{StaticResource DataGridHeaderStyle}"
                                                   Width="250"/>
                                <DataGridTextColumn Header="Time" Binding="{Binding Time}" 
                                                   HeaderStyle="{StaticResource DataGridHeaderStyle}"
                                                   Width="150"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding Status}" 
                                                   HeaderStyle="{StaticResource DataGridHeaderStyle}"
                                                   Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Border>
            </Grid>
        </ScrollViewer>
    </Grid>
</Window>
