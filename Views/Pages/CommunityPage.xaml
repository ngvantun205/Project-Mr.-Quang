<Page x:Class="TDEduEnglish.Views.Pages.CommunityPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:TDEduEnglish.Views.Pages"
      Background="White"
      mc:Ignorable="d" 
      d:DesignHeight="740" d:DesignWidth="1200"
      Title="CommunityPage">

   <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FFF8FAFC" Offset="0"/>
                <GradientStop Color="#FFF1F5F9" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Modern Header with glassmorphism effect -->
        <Border Height="80" VerticalAlignment="Top" Panel.ZIndex="10">
            <Border.Background>
                <SolidColorBrush Color="White" Opacity="0.95"/>
            </Border.Background>
            <Border.Effect>
                <DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" BlurRadius="10" Opacity="0.1"/>
            </Border.Effect>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Logo Section (consistent with MainWindow) -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" 
                           VerticalAlignment="Center" Margin="40,0,0,0">
                    <Border Background="#FF6366F1" CornerRadius="8" Width="48" Height="48" Margin="0,0,12,0">
                        <TextBlock Text="🌐" FontSize="20" 
                                  HorizontalAlignment="Center" 
                                  VerticalAlignment="Center"/>
                    </Border>
                    <TextBlock Text="Community Hub" FontSize="24" FontWeight="Bold" 
                              Foreground="#FF1F2937" VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Modern Search Bar -->
                <Grid Grid.Column="1" VerticalAlignment="Center" Margin="40,0,40,0">
                    <Border Background="White" CornerRadius="25" Height="45" 
                           BorderBrush="#FFE5E7EB" BorderThickness="1">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" Direction="270" 
                                            ShadowDepth="1" BlurRadius="8" Opacity="0.05"/>
                        </Border.Effect>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="🔍" FontSize="16" 
                                      VerticalAlignment="Center" Margin="16,0,8,0"/>
                            
                            <TextBox x:Name="SearchBox" Grid.Column="1" 
                                    Background="Transparent" BorderThickness="0"
                                    VerticalAlignment="Center" FontSize="14"
                                    Text="Search posts, members, discussions..." 
                                    Foreground="#FF9CA3AF" Padding="0,0,12,0"/>
                            
                            <Button Grid.Column="2" Content="Search" 
                                   Style="{StaticResource ModernButtonStyle}"
                                   Height="35" Width="80" Margin="0,0,5,0"
                                   FontSize="12"/>
                        </Grid>
                    </Border>
                </Grid>

                <!-- Action Buttons -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" 
                           VerticalAlignment="Center" Margin="20,0,40,0">
                    <Button Content="Create Post" FontSize="14" Height="40" Width="100"
                           Style="{StaticResource ModernButtonStyle}" Margin="0,0,12,0"/>
                    <Button Content="Join Group" FontSize="14" Height="40" Width="90"
                           Style="{StaticResource SecondaryButtonStyle}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" 
                     Margin="0,80,0,0">
            <Grid Margin="40,30,40,40">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Page Title Section -->
                <StackPanel Grid.Row="0" Margin="0,0,0,30">
                    <TextBlock Text="Welcome to EduLingua Community! 👋" 
                              FontSize="32" FontWeight="Bold" 
                              Foreground="#FF1F2937" Margin="0,0,0,8"/>
                    <TextBlock Text="Connect with fellow English learners, share your progress, and discover new learning opportunities together."
                              FontSize="16" Foreground="#FF6B7280" 
                              TextWrapping="Wrap" LineHeight="24"/>
                </StackPanel>

                <!-- Navigation Tabs -->
                <Border Grid.Row="1" Background="White" CornerRadius="16" 
                       Padding="12" Margin="0,0,0,30">
                    <Border.Effect>
                        <DropShadowEffect Color="Gray" Direction="270" 
                                        ShadowDepth="4" BlurRadius="20" Opacity="0.06"/>
                    </Border.Effect>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button Content="🏠 Feed" 
                               Style="{StaticResource ModernButtonStyle}"
                               Height="40" Width="90" Margin="8,0"/>
                        <Button Content="👥 Members" 
                               Style="{StaticResource SecondaryButtonStyle}"
                               Height="40" Width="100" Margin="8,0"/>
                        <Button Content="💬 Discussions" 
                               Style="{StaticResource SecondaryButtonStyle}"
                               Height="40" Width="110" Margin="8,0"/>
                        <Button Content="🎯 Study Groups" 
                               Style="{StaticResource SecondaryButtonStyle}"
                               Height="40" Width="120" Margin="8,0"/>
                        <Button Content="🏆 Leaderboard" 
                               Style="{StaticResource SecondaryButtonStyle}"
                               Height="40" Width="120" Margin="8,0"/>
                        <Button Content="📚 Resources" 
                               Style="{StaticResource SecondaryButtonStyle}"
                               Height="40" Width="110" Margin="8,0"/>
                    </StackPanel>
                </Border>

                <!-- Main Content Frame -->
                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left Column - Main Feed -->
                    <StackPanel Grid.Column="0" Margin="0,0,20,0">
                        
                        <!-- Quick Stats Cards -->
                        <Grid Margin="0,0,0,30">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Active Members -->
                            <Border Grid.Column="0" Background="White" CornerRadius="16" 
                                   Padding="20" Margin="0,0,10,0">
                                <Border.Effect>
                                    <DropShadowEffect Color="Gray" Direction="270" 
                                                    ShadowDepth="4" BlurRadius="20" Opacity="0.08"/>
                                </Border.Effect>
                                <StackPanel>
                                    <Border Background="#FF10B981" CornerRadius="12" 
                                           Width="40" Height="40" Margin="0,0,0,12">
                                        <TextBlock Text="👥" FontSize="16" 
                                                  HorizontalAlignment="Center" 
                                                  VerticalAlignment="Center"/>
                                    </Border>
                                    <TextBlock Text="2,847" FontSize="24" FontWeight="Bold" 
                                              Foreground="#FF1F2937" Margin="0,0,0,4"/>
                                    <TextBlock Text="Active Members" FontSize="12" 
                                              Foreground="#FF6B7280"/>
                                    <TextBlock Text="+124 this week" FontSize="11" 
                                              Foreground="#FF10B981" Margin="0,4,0,0"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Posts Today -->
                            <Border Grid.Column="1" Background="White" CornerRadius="16" 
                                   Padding="20" Margin="5,0,5,0">
                                <Border.Effect>
                                    <DropShadowEffect Color="Gray" Direction="270" 
                                                    ShadowDepth="4" BlurRadius="20" Opacity="0.08"/>
                                </Border.Effect>
                                <StackPanel>
                                    <Border Background="#FF6366F1" CornerRadius="12" 
                                           Width="40" Height="40" Margin="0,0,0,12">
                                        <TextBlock Text="📝" FontSize="16" 
                                                  HorizontalAlignment="Center" 
                                                  VerticalAlignment="Center"/>
                                    </Border>
                                    <TextBlock Text="156" FontSize="24" FontWeight="Bold" 
                                              Foreground="#FF1F2937" Margin="0,0,0,4"/>
                                    <TextBlock Text="Posts Today" FontSize="12" 
                                              Foreground="#FF6B7280"/>
                                    <TextBlock Text="+23% from yesterday" FontSize="11" 
                                              Foreground="#FF10B981" Margin="0,4,0,0"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Online Now -->
                            <Border Grid.Column="2" Background="White" CornerRadius="16" 
                                   Padding="20" Margin="10,0,0,0">
                                <Border.Effect>
                                    <DropShadowEffect Color="Gray" Direction="270" 
                                                    ShadowDepth="4" BlurRadius="20" Opacity="0.08"/>
                                </Border.Effect>
                                <StackPanel>
                                    <Border Background="#FFEF4444" CornerRadius="12" 
                                           Width="40" Height="40" Margin="0,0,0,12">
                                        <TextBlock Text="🟢" FontSize="16" 
                                                  HorizontalAlignment="Center" 
                                                  VerticalAlignment="Center"/>
                                    </Border>
                                    <TextBlock Text="847" FontSize="24" FontWeight="Bold" 
                                              Foreground="#FF1F2937" Margin="0,0,0,4"/>
                                    <TextBlock Text="Online Now" FontSize="12" 
                                              Foreground="#FF6B7280"/>
                                    <TextBlock Text="Peak hours" FontSize="11" 
                                              Foreground="#FF10B981" Margin="0,4,0,0"/>
                                </StackPanel>
                            </Border>
                        </Grid>

                        <!-- Content Frame -->
                        <Border Background="White" CornerRadius="16" MinHeight="400">
                            <Border.Effect>
                                <DropShadowEffect Color="Gray" Direction="270" 
                                                ShadowDepth="4" BlurRadius="20" Opacity="0.08"/>
                            </Border.Effect>
                            <Frame x:Name="CommunityMainFrame" 
                                  NavigationUIVisibility="Hidden" 
                                  Margin="20"/>
                        </Border>
                    </StackPanel>

                    <!-- Right Sidebar -->
                    <StackPanel Grid.Column="1" Margin="20,0,0,0">
                        
                        <!-- Popular Topics -->
                        <Border Background="White" CornerRadius="16" 
                               Padding="20" Margin="0,0,0,20">
                            <Border.Effect>
                                <DropShadowEffect Color="Gray" Direction="270" 
                                                ShadowDepth="4" BlurRadius="20" Opacity="0.08"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="🔥 Trending Topics" 
                                          FontSize="16" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" Margin="0,0,0,16"/>
                                
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                    <Border Background="#FFDCFCE7" CornerRadius="12" 
                                           Padding="8,4" Margin="0,0,6,0">
                                        <TextBlock Text="#Grammar" FontSize="12" 
                                                  Foreground="#FF10B981"/>
                                    </Border>
                                    <TextBlock Text="234 posts" FontSize="12" 
                                              Foreground="#FF6B7280" VerticalAlignment="Center"/>
                                </StackPanel>
                                
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                    <Border Background="#FFE0E7FF" CornerRadius="12" 
                                           Padding="8,4" Margin="0,0,6,0">
                                        <TextBlock Text="#IELTS" FontSize="12" 
                                                  Foreground="#FF6366F1"/>
                                    </Border>
                                    <TextBlock Text="189 posts" FontSize="12" 
                                              Foreground="#FF6B7280" VerticalAlignment="Center"/>
                                </StackPanel>
                                
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                    <Border Background="#FFFEF3C7" CornerRadius="12" 
                                           Padding="8,4" Margin="0,0,6,0">
                                        <TextBlock Text="#Speaking" FontSize="12" 
                                                  Foreground="#FFF59E0B"/>
                                    </Border>
                                    <TextBlock Text="156 posts" FontSize="12" 
                                              Foreground="#FF6B7280" VerticalAlignment="Center"/>
                                </StackPanel>
                                
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                    <Border Background="#FFFECACA" CornerRadius="12" 
                                           Padding="8,4" Margin="0,0,6,0">
                                        <TextBlock Text="#Vocabulary" FontSize="12" 
                                                  Foreground="#FFEF4444"/>
                                    </Border>
                                    <TextBlock Text="143 posts" FontSize="12" 
                                              Foreground="#FF6B7280" VerticalAlignment="Center"/>
                                </StackPanel>
                                
                                <StackPanel Orientation="Horizontal">
                                    <Border Background="#FFF3E8FF" CornerRadius="12" 
                                           Padding="8,4" Margin="0,0,6,0">
                                        <TextBlock Text="#StudyTips" FontSize="12" 
                                                  Foreground="#FF8B5CF6"/>
                                    </Border>
                                    <TextBlock Text="128 posts" FontSize="12" 
                                              Foreground="#FF6B7280" VerticalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Active Study Groups -->
                        <Border Background="White" CornerRadius="16" 
                               Padding="20" Margin="0,0,0,20">
                            <Border.Effect>
                                <DropShadowEffect Color="Gray" Direction="270" 
                                                ShadowDepth="4" BlurRadius="20" Opacity="0.08"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="🎯 Study Groups" 
                                          FontSize="16" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" Margin="0,0,0,16"/>
                                
                                <!-- Study Group 1 -->
                                <Border Background="#FFF8FAFC" CornerRadius="12" 
                                       Padding="12" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="IELTS Speaking Practice" 
                                                  FontSize="13" FontWeight="SemiBold" 
                                                  Foreground="#FF1F2937" Margin="0,0,0,4"/>
                                        <TextBlock Text="Daily 7 PM EST" 
                                                  FontSize="11" Foreground="#FF6B7280" 
                                                  Margin="0,0,0,6"/>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="👥 12 members" 
                                                      FontSize="10" Foreground="#FF6B7280" 
                                                      Margin="0,0,8,0"/>
                                            <TextBlock Text="🟢 Live" 
                                                      FontSize="10" Foreground="#FF10B981"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                                
                                <!-- Study Group 2 -->
                                <Border Background="#FFF8FAFC" CornerRadius="12" 
                                       Padding="12" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="Business English Club" 
                                                  FontSize="13" FontWeight="SemiBold" 
                                                  Foreground="#FF1F2937" Margin="0,0,0,4"/>
                                        <TextBlock Text="Mon, Wed, Fri 6 PM" 
                                                  FontSize="11" Foreground="#FF6B7280" 
                                                  Margin="0,0,0,6"/>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="👥 8 members" 
                                                      FontSize="10" Foreground="#FF6B7280" 
                                                      Margin="0,0,8,0"/>
                                            <TextBlock Text="⏰ Starting soon" 
                                                      FontSize="10" Foreground="#FFF59E0B"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                                
                                <Button Content="View All Groups" 
                                       Style="{StaticResource SecondaryButtonStyle}"
                                       Height="32" HorizontalAlignment="Stretch"
                                       FontSize="12" Margin="0,8,0,0"/>
                            </StackPanel>
                        </Border>

                        <!-- Weekly Challenge -->
                        <Border Background="White" CornerRadius="16" 
                               Padding="20">
                            <Border.Effect>
                                <DropShadowEffect Color="Gray" Direction="270" 
                                                ShadowDepth="4" BlurRadius="20" Opacity="0.08"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="⚡ Weekly Challenge" 
                                          FontSize="16" FontWeight="SemiBold" 
                                          Foreground="#FF1F2937" Margin="0,0,0,12"/>
                                
                                <Border Background="#FFF3F4F6" CornerRadius="12" 
                                       Padding="16" Margin="0,0,0,12">
                                    <StackPanel>
                                        <TextBlock Text="Idiom Master Challenge" 
                                                  FontSize="14" FontWeight="SemiBold" 
                                                  Foreground="#FF1F2937" Margin="0,0,0,6"/>
                                        <TextBlock Text="Learn and use 5 new idioms in conversations this week!"
                                                  FontSize="12" Foreground="#FF6B7280" 
                                                  TextWrapping="Wrap" Margin="0,0,0,8"/>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="🏆 156 participants" 
                                                      FontSize="11" Foreground="#FF6B7280"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                                
                                <Button Content="Join Challenge" 
                                       Style="{StaticResource ModernButtonStyle}"
                                       Height="36" HorizontalAlignment="Stretch"
                                       FontSize="12"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Grid>
            </Grid>
        </ScrollViewer>
    </Grid>
</Page>
